<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AstroCrallwerMapper">
    <select id="connectionTest" resultType="map">
      select 1;
    </select>

    <select id="createTable" resultType="int">
CREATE TABLE astro_crallwer.rule_meta
(
    rule_name          VARCHAR(45)    NOT NULL    ,
    rule_reg_datetime  DATETIME       NULL        ,
    PRIMARY KEY (rule_name)
);

CREATE TABLE astro_crallwer.api_info
(
    rule_name        VARCHAR(45)     NOT NULL    ,
    api_url          VARCHAR(500)    NULL        ,
    api_parameters   VARCHAR(500)    NULL        ,
    api_has_date     TINYINT         NULL        ,
    api_date_offset  INT             NULL        ,
    foreign key (rule_name) references astro_crallwer.rule_meta (rule_name) on update cascade on delete cascade
);
   </select>

    <select id="dropTable" resultType="int">
        drop table astro_crallwer.api_info,astro_crallwer.rule_meta;
   </select>

</mapper>
